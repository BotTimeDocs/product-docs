# 定时任务

可支持创建定时任务并在指定时间自动执行相关流程。

## 新建定时任务

点击 **新建定时任务** 打开定时任务创建窗口，见下图示例：

- 任务名称: 输入定时任务名称。
- 流程: 选择本地/控制台流程库并指定欲在定时任务中执行的流程及版本。
  > **说明：**
  >
  > 单击“执行配置”链接，可弹出执行配置对话框，对执行过程中的一些参数进行配置，参见 [执行本地流程](Robot/../localworkflow.md)。

- 模式：选择执行模式，支持按照：一次、按天、按周、按月设置和按表达式。
  
   | 参数     | 参数说明                                                     |
   | -------- | ------------------------------------------------------------ |
   | 一次     | 执行一次的定时任务，默认值为当前日期和时间。                 |
   | 按天     | 每隔 N 天固定时间执行任务，默认为每隔一天，执行时间默认为当前时间。 |
   | 按周     | 每隔 N 周星期 X 执行任务，默认为每隔一周，执行时间默认为当前时间。 |
   | 按月     | 每 N 个月的第 X 天执行任务，默认为每 1 个月的第 1 天。若 X 大于当月最大天数，则算为当月的最后一天。<br> 每 N 个月的第 M 个星期 Y 执行任务，默认为每 1 个月的第 1 个星期天。执行时间默认为当前时间。 |
   | 按表达式 | 按 [Cron](https://baike.baidu.com/item/cron/10952601?fr=aladdin) 表达式配置定时任务。<br> 点击 [在线生成](https://console.encoo.com/lib/cron/index.html)，可在线生成 Cron 表达式，并手动复制粘贴到 Cron 表达式输入框。 |
  
- 生效范围：
   - 开始时间：任务的开始生效时间，不填写则默认按照当前时间生效。
  
     > **说明：**
     >
     > 当任务即将生效执行前的 30 秒，在桌面右下角会弹窗提示并进行流程执行倒计时。
- 结束时间：任务的最后到期时间，不填写则默认无到期时间。

![定时任务设置](https://docimages.blob.core.chinacloudapi.cn/images/Robot/cronjob20201201.png)

## 定时任务列表

每条任务列表包括：

- 任务: 定时任务的名称
- 流程库: 任务中流程所属流程库
- 流程：当前任务的流程名称
- 模式：当前任务的执行模式
- 操作：点击 **编辑** 对当前定时任务修改；点击 **删除** 则删除当前任务

![定时任务列表](https://docimages.blob.core.chinacloudapi.cn/images/Robot/Robot-CronJob-1.png)
