# 手机自动化常见问题

## Android 手机设备连接类

**1. Q： 小米手机无法正常连接或无法点击屏幕**
</br> **A：** 在“开发者选项”中将“**允许模拟点击位置**”、“**USB 安装**”、“**USB 调试(安全设置)**”等选项打开，部分选项的开启可能需要登录 MIUI 账号（需要插入 SIM 卡）

![小米手机设置](https://docimages.blob.core.chinacloudapi.cn/images/Studio/xiaomi20210618.png)

**2. Q： 三星手机无法正常连接或无法正常显示屏幕**

![异常现象](https://docimages.blob.core.chinacloudapi.cn/images/Studio/sansung20210618.png)

</br> **A：**

- 在“开发者选项”中，打开未知来源、取消权限监控。

- 打开“设置 > 显示 > 屏幕分辨率 > 更改屏幕分辨率”，更改为“WQHD”

![更改屏幕分辨率](https://docimages.blob.core.chinacloudapi.cn/images/Studio/sanscreen20210618.png)

**3. Q： 华为手机无法正常连接**
</br> **A：**

step1：在输入法设置中，取消安全输入

step2：将“开发者选项 > 监控 ADB 安装应用”设置为“不勾选”状态

step3：将“开发者选项 > 仅充电模式下允许调试”设置为“勾选”状态

step4：将“应用 > 权限管理 > 设置 > 权限推荐”设置为“勾选”状态

> **说明：**
>
> 部分华为型号的手机，可能出现点击位置与实际位置不符的情况（mate20pro, mate7 等），需要在 "设置 > 显示 > 屏幕分辨率" 中，将分辨率设置为最高即可。

**4. Q： OPPO 手机无法正常连接**

</br> **A：** 在“开发者选项”的最底部，勾选“禁止监控权限”

> **说明：**
>
> 部分 OPPO 机型在“开发者选项”下启用 USB 调试模式，如果 10 分钟内没有进行开发者模式操作，会主动断开 USB 模式，需要手动重新开启开发者选项的 USB 调试模式。

## Android 服务端类

**1. Q： 已安装的安卓服务包中 pocoservice.apk 应用不见了怎么办？**
</br> **A：** 在运行 pocoservice.apk 应用前，将其权限调前，且需设置“允许后台运行”、“省电模式移除”等。

**2. Q： 服务运行时使用了 VPN，服务中断，怎么处理？**
</br> **A：** 使用 VPN 工具时，将本地 PC 地址设置为“不经过代理”。

![不经过代理的地址列表](https://docimages.blob.core.chinacloudapi.cn/images/Studio/proxy20210618.png)

**3. Q： 在流程录制过程中，鼠标移动没有定位框，是什么原因？**
</br> **A：** 手动打开移动设备中的 pocoservice 软件，提示“正在运行”即可。

**4. Q： 是否支持手机设备在运行流程时，使用 WIFI 连接网络？**
</br> **A：** 目前暂不支持手机设备 WIFI 连接运行流程的方式。

**5. Q： 服务在启动之后，是否支持设备进行热插拔操作？**
</br> **A：** 目前暂不支持热插拔操作，如已热插拔，需重新连接服务。

## Android 手机自动化组件类

**1. Q： 使用“获取短信验证码”组件，无法获取短信验证码，是什么原因？**
</br> **A：** “获取短信验证码”组件需要提前安装服务安装包的 apk 目录下的“SMSobserver.apk”软件，运行该组件前需提前打开允许 App 运行相关权限。

**2. 使用手机自动化文本类组件（如，发送文本、获取文本、清空文本等）时，失败且报错，是什么原因？**
</br> **A：** 在系统 "设置 > 输入法设置" 中，将 Yosemite 输入法设置为默认输入法，如果尚未安装 Yosemite 输入法，可以在 Encoo.Android.Automation 同级目录 apk 文件夹下找到它 Yosemite.apk 并且手工安装到手机上之后，即可开始使用 Poco 功能以及 text() 接口。

## Android 模拟器运行类

**1. Q：目前支持哪些类型的 Android 模拟器？**
</br> **A：** 支持的模拟器包括：AVD、Genymotion、网易 MUMU、雷电、夜神、逍遥、天天、海马玩等，其中支持多开模拟器且 adb 正常连接是雷电模拟器，其余均可实现软件 app 多开

**2. Q：使用模拟器运行一些热门应用，如，“手机淘宝”、“抖音短视频”等，均出现多重验证页面，如何避免？**
</br> **A：** 出现多重验证页面，属于模拟器行为，可通过设计自动化流程进行规避。

## Android 真机运行类

**1. Q：使用 USB 连接 PC 机与 Android 真机时，偶尔会出现异常断开的现象，应该怎么办？**

**A：** 尽量使用原装 USB 数据线或检查 USB 接口的稳定性。

**2. Q：手机在输入密码界面输入密码时，会造成编辑器的“移动设备管理器”中的手机投屏页面为黑屏现象，是什么原因？**

**A：** 在手机输入法设置中将“取消安全输入”设置为“勾选”状态。

## 移动设备管理器类

**1. Q：如何对手机 APP 应用内的页面进行翻页或向上滑动操作？**

**A：** 使用“移动设备管理器”，先点击 1 处的开启录制，然后在屏幕按照期望的滑动方向操作一下。

![移动设备管理器](https://docimages.blob.core.chinacloudapi.cn/images/Studio/updownpage20210826.png)

## 手机自动化组件类

**1. Q：手机动态截图如何确定滑动距离？**

**A：** 滑动距离需要根据当前控件的属性决定，所以可以先按下图方式先获取控件属性的 size 属性。滑动组件 duration 参数设置为 2。duration 参数的意义是滑动的时间，从滑动开始到滑动结束。

![手机自动化组件](https://docimages.blob.core.chinacloudapi.cn/images/Studio/mobiletap20210827.png)
